<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, shrink-to-fit=9">
	<meta name="description" content="Gambolthemes">
	<meta name="author" content="Gambolthemes">
	<title>ezTicket - 一站式購票體驗</title>

	<!-- Favicon Icon -->
	<link rel="icon" type="image/png" href="images/ezTicket.png">

	<!-- Stylesheets -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
		rel="stylesheet">
	<link href='vendor/unicons-2.0.1/css/unicons.css' rel='stylesheet'>
	<link href="css/style.css" rel="stylesheet">
	<link href="css/vertical-responsive-menu.min.css" rel="stylesheet">
	<link href="css/responsive.css" rel="stylesheet">
	<link href="css/night-mode.css" rel="stylesheet">

	<!-- Vendor Stylesheets -->
	<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
	<link href="vendor/OwlCarousel/assets/owl.carousel.css" rel="stylesheet">
	<link href="vendor/OwlCarousel/assets/owl.theme.default.min.css" rel="stylesheet">
	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
	<link href="css/datepicker.min.css" rel="stylesheet">

	<style>
	
.default-event-thumb {
    border: 1px dashed #bbb;
    height: 350px;
    overflow: hidden;
    position: relative;
}
	</style>
</head>

<body class="d-flex flex-column h-100">
	<!-- Create Single Ticket Model Start-->
	<div class="modal fade" id="singleTicketModal" tabindex="-1" aria-labelledby="singleTicketModalLabel"
		aria-hidden="false">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="singleTicketModalLabel">Create Single Ticket</h5>
					<button type="button" class="close-model-btn" data-bs-dismiss="modal" aria-label="Close"><i
							class="uil uil-multiply"></i></button>
				</div>
				<div class="modal-body">
					<div class="model-content main-form">
						<div class="row">
							<div class="col-lg-12 col-md-12">
								<div class="main-card p-4 mt-4">
									<div class="form-label mb-4 fs-16">Ticket Restrictions</div>
									<div class="form-group border_bottom">
										<div class="d-flex align-items-center flex-wrap pb-4 flex-nowrap">
											<h4 class="fs-14 mb-0 me-auto">Total number of tickets available</h4>
											<label class="btn-switch m-0 me-3">
												<input type="checkbox" id="is-restrict-total-ticket" checked="">
												<span class="checkbox-slider"></span>
											</label>
											<div>
												<label class="fs-12 m-0">Unlimited</label>
											</div>
										</div>
										<div class="p-0 mb-4 total_ticket_per_level" style="display:none;">
											<div class="form-group">
												<div class="input-number">
													<input class="form-control h_40" type="number" min="0" max="30"
														placeholder="Enter Total Tickets">
												</div>
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="d-flex align-items-center flex-wrap pt-4 flex-nowrap">
											<h4 class="fs-14 mb-0 me-auto">Maximum number of tickets for each customer
											</h4>
											<label class="btn-switch m-0 me-3">
												<input type="checkbox" id="is-restrict-ticket-per-user" checked="">
												<span class="checkbox-slider"></span>
											</label>
											<div>
												<label class="fs-12 m-0">Unlimited</label>
											</div>
										</div>
										<div class="p-0 mt-4 total_ticket_per_user" style="display:none;">
											<div class="form-group">
												<div class="input-number">
													<input class="form-control h_40" type="number" min="0" max="30"
														placeholder="Enter Max. per order">
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="co-main-btn min-width btn-hover h_40" data-bs-target="#aboutModal"
						data-bs-toggle="modal" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="main-btn min-width btn-hover h_40">Save</button>
				</div>
			</div>
		</div>
	</div>
	<!-- Create Single Ticket Model End-->
	<!-- Create Group Ticket Model Start-->
	<div class="modal fade" id="groupTicketModal" tabindex="-1" aria-labelledby="groupTicketModalLabel"
		aria-hidden="false">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="groupTicketModalLabel">Create Group Ticket</h5>
					<button type="button" class="close-model-btn" data-bs-dismiss="modal" aria-label="Close"><i
							class="uil uil-multiply"></i></button>
				</div>
				<div class="modal-body">
					<div class="model-content main-form">
						<div class="row">
							<div class="col-lg-12 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Ticket Name*</label>
									<input class="form-control h_40" type="text"
										placeholder="Enter Ticket Type - Group Name (E.g Gold - Family Pass)" value="">
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="main-card p-4 mt-4">
									<div class="form-label mb-4 fs-16">Ticket Restrictions</div>
									<div class="form-group border_bottom">
										<div class="d-flex align-items-center flex-wrap pb-4 flex-nowrap">
											<h4 class="fs-14 mb-0 me-auto">Total number of tickets available</h4>
											<label class="btn-switch m-0 me-3">
												<input type="checkbox" id="is-restrict-total-ticket2" checked="">
												<span class="checkbox-slider"></span>
											</label>
											<div>
												<label class="fs-12 m-0">Unlimited</label>
											</div>
										</div>
										<div class="p-0 mb-4 total_ticket_per_level2" style="display:none;">
											<div class="form-group">
												<div class="input-number">
													<input class="form-control h_40" type="number" min="0" max="30"
														placeholder="Enter Total Tickets">
												</div>
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="d-flex align-items-center flex-wrap pt-4 flex-nowrap">
											<h4 class="fs-14 mb-0 me-auto">Maximum number of tickets for each customer
											</h4>
											<label class="btn-switch m-0 me-3">
												<input type="checkbox" id="is-restrict-ticket-per-user2" checked="">
												<span class="checkbox-slider"></span>
											</label>
											<div>
												<label class="fs-12 m-0">Unlimited</label>
											</div>
										</div>
										<div class="p-0 mt-4 total_ticket_per_user2" style="display:none;">
											<div class="form-group">
												<div class="input-number">
													<input class="form-control h_40" type="number" min="0" max="30"
														placeholder="Enter Max. per order">
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="main-card p-4 mt-4">
									<div class="form-label mb-4 fs-16">Ticket Restrictions</div>
									<div class="form-group">
										<label class="form-label mb-2 fs-14">Ticket Order*</label>
										<input class="form-control h_40" type="number" value="1" min="1" max="30"
											placeholder="Enter Sort Order">
									</div>
									<div class="form-group mt-4">
										<label class="form-label mb-2 fs-14">Ticket Description*</label>
										<textarea class="form-textarea"
											placeholder="Description will go here"></textarea>
									</div>
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label mb-2 fs-14">Ticket Price*</label>
									<input class="form-control h_40" type="number" value="10"
										placeholder="Enter Ticket Price">
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label mb-2 fs-14">Number of tickets for each group*</label>
									<input class="form-control h_40" type="number" min="0" value=""
										placeholder="Enter Total Tickets Per Group">
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="main-card p-4 mt-4">
									<div class="form-group">
										<div class="d-flex align-items-start">
											<label class="btn-switch m-0 me-3">
												<input type="checkbox" class="" id="bird-discount2" value="">
												<span class="checkbox-slider"></span>
											</label>
											<div class="d-flex flex-column">
												<label class="color-black mb-1">I want to offer early bird
													discount.</label>
												<p class="mt-2 fs-14 d-block mb-3">Enabling this discount lets your
													attendees get all the regular tickets features at a discounted
													price. <a href="#" class="a-link">Learn more</a></p>
											</div>
										</div>
										<div class="online-event-discount-wrapper2" style="display: none;">
											<div class="row g-3">
												<div class="col-md-3">
													<label class="form-label mt-3 fs-6">Discount*</label>
													<input class="form-control h_40" type="text" placeholder="0"
														value="">
												</div>
												<div class="col-md-3">
													<label class="form-label mt-3 fs-6">Price*</label>
													<select class="selectpicker">
														<option value="Percentage" selected="">Percent(%)</option>
														<option value="Fixed">Fixed($)</option>
													</select>
												</div>
												<div class="col-md-3">
													<label class="form-label mt-3 fs-6">Discount ends on*</label>
													<div class="loc-group position-relative">
														<input class="form-control h_40 datepicker-here"
															data-language="en" data-position="top left" type="text"
															placeholder="MM/DD/YYYY" value="">
														<span class="absolute-icon top_0"><i
																class="fa-solid fa-calendar-days"></i></span>
													</div>
												</div>
												<div class="col-md-3">
													<div class="clock-icon">
														<label class="form-label mt-3 fs-6">Time</label>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="co-main-btn min-width btn-hover h_40" data-bs-target="#aboutModal"
						data-bs-toggle="modal" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="main-btn min-width btn-hover h_40">Save</button>
				</div>
			</div>
		</div>
	</div>
	<!-- Create Group Ticket Model End-->
	<!-- Header Start-->
	<!-- 請加上這行-->
	<link href="css/shawn-scroll-bar.css" rel="stylesheet">

	<header class="header">
		<div class="header-inner">
			<nav
					class="navbar navbar-expand-lg bg-barren barren-head navbar fixed-top justify-content-sm-start pt-0 pb-0 ps-lg-0 pe-2">
				<div class="container-fluid ps-0">
					<a class="navbar-brand order-1 order-lg-0 ml-lg-0 ml-2 me-auto" style="margin-left: 65px" href="index.html">
						<div class="res-main-logo">
							<img src="images/ezTicket-icon.svg" alt="">
						</div>
						<div class="main-logo" id="logo">
							<img src="images/ezTicket.svg" alt="">
							<img class="logo-inverse" src="images/dark-logo.svg" alt="">
						</div>
					</a>
					<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
						 aria-labelledby="offcanvasNavbarLabel">
						<div class="offcanvas-header">
							<div class="offcanvas-logo" id="offcanvasNavbarLabel">
								<img src="images/ezTicket-icon.svg" alt="">
							</div>
							<button type="button" class="close-btn" data-bs-dismiss="offcanvas" aria-label="Close">
								<i class="fa-solid fa-xmark"></i>
							</button>
						</div>
						<div class="offcanvas-body">
							<ul class="navbar-nav justify-content-end flex-grow-1 pe_5">
								<li class="nav-item">
									<a class="nav-link" href="back-index.html">
										<i class="fa-solid fa-house me-2"></i>首頁
									</a>
								</li>
							</ul>
						</div>
					</div>
					<div class="right-header order-2">
						<ul class="align-self-stretch">
							<li class="6">
								<a href="back-activity-ticket-inspec.html" class="create-btn btn-hover">
									<i class="fa-solid fa-ticket"></i>
									<span>票務</span>
								</a>
							</li>
							<li class="dropdown account-dropdown order-3">
								<a href="#" class="account-link" role="button" id="accountClick"
								   data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false">
									<img src="images/profile-imgs/img-13.jpg" class="D-baimg" alt="">
									<i class="fas fa-caret-down arrow-icon"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-account dropdown-menu-end"
									aria-labelledby="accountClick">
									<li>
										<div class="dropdown-account-header">
											<div class="account-holder-avatar">
												<img src="images/profile-imgs/img-13.jpg" class="D-baimg" alt="">
											</div>
											<h5 class="D-baname"><!-- 姓名 --></h5>
											<p class="D-baemail"><!-- email --></p>
										</div>
									</li>
									<li class="profile-link">
										<a href="back-users-profile.html" class="link-item">個人資料管理</a>
										<a href="front-users-bu-sign-in.html" class="link-item logOut">登出</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="overlay"></div>
		</div>
	</header>
	<!-- Header End-->
	<!-- Body Start-->
	<div class="wrapper">
		<!-- <div class="breadcrumb-block">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 col-md-10">
						<div class="barren-breadcrumb">
							<nav aria-label="breadcrumb">
								<ol class="breadcrumb">
									<li class="breadcrumb-item"><a href="index.html">Home</a></li>
									<li class="breadcrumb-item"><a href="create.html">Create</a></li>
									<li class="breadcrumb-item active" aria-current="page">Create Online Event</li>
								</ol>
							</nav>
						</div>
					</div>
				</div>
			</div>
		</div> -->
		<!-- <div class="event-dt-block p-80"> -->
		<div class="container">
			<div class="row justify-content-center">

				<div class="col-xl-8 col-lg-9 col-md-12" style="margin-bottom:30px ;">
					<!-- <div class="wizard-steps-block"> -->
					<div id="add-event-tab" class="step-app">
						<div class="step-content">
							<!-- <div class="step-tab-panel step-tab-info active" id="tab_step1">  -->
							<div class="tab-from-content" style="border:1px solid #102743">
								<div class="main-card">
									<div class="bp-title">
										<h4 style="border-bottom:1px solid #102743 !important"><i
												class="fa-solid fa-circle-info step_icon me-3"></i>新增商品</h4>
									</div>
									<div class="p-4 bp-form main-form">
										<div class="row">
											<FORM action="addProduct" method=post enctype="multipart/form-data"
												id="ProductForm" required>
												<input type="hidden" name="productno">
												<div class="col-lg-12 col-md-12">
													<div class="form-group border_bottom pb_30">
														<label class="form-label fs-16">商品名稱*
															<span id="pnameErr" style="color: #DAA520"></span>
														</label>
														<!-- <p class="mt-2 d-block fs-14 mb-3">
																	前面加上演唱會或展覽名稱可以加強搜尋，建議格式＂五月天｜FLY TO YOU 毛巾＂</p> -->
														<input class="form-control h_50" type="text"
															placeholder="請輸入商品名稱" value="" name="pname" id="pname">

														<p></p>
														<label class="form-label fs-16">商品特色標籤*
															<span id="ptagErr" style="color: #DAA520"></span>
														</label>
														<!-- <p class="mt-2 d-block fs-14 mb-3">
																	範例：#五月天 #毛巾 </p> -->
														<input class="form-control h_50" type="text"
															placeholder="請輸入商品特色標籤" value="" name="ptag" id="ptag">

														<div class="col-lg-12 col-md-12">
															<div class="form-group mt-4">
																<label class="form-label fs-16">選擇商品類別*
																	<span id="pclassnoErr"
																		style="color: #DAA520"></span>
																</label>
																<select id="pclassSelector" name="pclassno"
																	class="selectpicker" title="選擇商品類別"
																	data-live-search="true">
																	<!-- 類別選單顯示 -->
																	<!-- <option value="20001">T恤</option>
																			<option value="20002">手環</option>
																			<option value="20003">明信片</option> -->
																</select>
															</div>
														</div>

														<div class="col-lg-12 col-md-12">
															<div class="form-group mt-4">
																<label class="form-label fs-16">選擇主辦單位*
																	<span id="hostnoErr"
																		style="color: #DAA520"></span></label>
																<select class="selectpicker" data-size="5"
																	title="選擇主辦單位" data-live-search="true" name="hostno"
																	id="hostno">
																	<!-- <option value="5001">詠傑股份有限公司</option>
																			<option value="5002">尉賢股份有限公司</option>
																			<option value="5003">晉賢股份有限公司</option> -->
																</select>
															</div>
														</div>

														<div class="col-lg-12 col-md-12">
															<div class="form-group mt-4">
																<label class="form-label fs-16">商品原價＊
																	<span id="ppriceErr" style="color: #DAA520"></span>
																</label>
																<input class="form-control h_40" type="number" value=""
																	placeholder="請輸入商品原價" name="pprice" id="pprice">
															</div>
														</div>

														<div class="col-lg-12 col-md-12">
															<div class="form-group mt-4">
																<label class="form-label fs-16">商品特價＊
																	<span id="pspecialpriceErr"
																		style="color: #DAA520"></span></label>
																<input class="form-control h_40" type="number" value=""
																	placeholder="請輸入商品特價" name="pspecialprice"
																	id="pspecialprice">
															</div>
														</div>

														<div class="col-lg-12 col-md-12">
															<div class="form-group mt-4">
																<label class="form-label fs-16">商品可售數量＊
																	<span id="pqtyErr"
																		style="color: #DAA520"></span></label>
																<input class="form-control h_40" type="number"
																	value="10" placeholder="請輸入商品可售數量" name="pqty"
																	id="pqty">
															</div>
														</div>

													</div>

													<div class="form-group border_bottom pt_30 pb_30">
														<label class="form-label fs-16">商品上架時間*
														</label>
														<p class="mt-2 fs-14 d-block mb-3">若到了商品上架時間，商品預設會出現在前台
														</p>
														<!-- <div class="row g-2"> -->
														<!-- <div class="col-md-6"> -->
														<label class="form-label mt-3 fs-6">選擇日期*
															<span id="psdateErr" style="color: #DAA520"></span></label>
														<div class="loc-group position-relative"
															style="padding-bottom:10px ;">
															<input class="form-control h_50 datepicker-here"
																data-language="en" type="text" placeholder="YYYY/MM/DD"
																value="" name="psdate"
																data-date-format="yyyy-mm-dd 00:00:00"
																autocomplete="off" id="psdate">
															<span class="absolute-icon"><i
																	class="fa-solid fa-calendar-days"></i></span>
														</div>
														<!-- </div> -->

														<!-- </div> -->

														<label class="form-label fs-16">商品下架時間*
															</span>
														</label>
														<p class="mt-2 fs-14 d-block mb-3">若到了商品下架時間，前台即無法展售</p>
														<!-- <div class="row g-2"> -->
														<!-- <div class="col-md-6"> -->
														<label class="form-label fs-16">選擇日期*
															<span id="pedateErr" style="color: #DAA520"></label>
														<div class="loc-group position-relative">
															<input class="form-control h_50 datepicker-here"
																data-language="en" type="text" placeholder="YYYY/MM/DD"
																value="" name="pedate"
																data-date-format="yyyy-mm-dd 23:59:59"
																autocomplete="off" id="pedate">
															<span class="absolute-icon"><i
																	class="fa-solid fa-calendar-days"></i></span>
															<!-- </div> -->
															<!-- </div> -->



															<div class="col-lg-12 col-md-12">
																<div class="form-group mt-4">
																	<label class="form-label fs-16">選擇商品狀態*</label>
																	<!-- <input id="c1" type="radio" name="pstatus"> 上架中
																				<input id="c2" type="radio" name="pstatus"> 已下架 -->
																	<select class="selectpicker" data-size="2"
																		title="選擇商品狀態" data-live-search="true"
																		name="pstatus">
																		<option value="0" selected>上架中</option>
																		<option value="1">已下架</option>
																	</select>
																</div>
															</div>
														</div>
													</div>



													<div class="form-group pt_30 pb_30">
														<label class="form-label fs-16">上傳商品圖片
															<span id="imgErr" style="color: #DAA520"></span>
														</label>
														<p class="mt-2 fs-14 d-block mb-3 pe_right">
															圖片尺寸限制：張數／尺寸大小
														</p>
														<div class="content-holder mt-4" id="uploadPictures">
															<!-- <div class="default-event-thumb">
																		<div class="default-event-thumb-btn">
																			<div class="thumb-change-btn">
																				<input type="file" id="thumb-img"
																					name=pimg>
																				<label for="thumb-img">Change
																					Image</label>


																			</div>
																		</div>
																		<img src="images/banners/custom-img.jpg" alt="">
																	</div> -->
														</div>

													</div>
													<!-- <div class="form-group border_bottom pb_30"> -->
													<label class="form-label fs-16">商品描述
														<span id="pdiscripErr" style="color: #DAA520"></span>
													</label>
													<p class="mt-2 fs-14 d-block mb-3">請為你的商品寫上吸引人的商品說明以增加銷售
													</p>
													<div class="text-editor mt-4" style="border:#102743">
														<textarea id="pd_editor" name="pdiscrip"
															style="border:#102743"></textarea>
													</div>
												</div>
												<div class="step-footer step-tab-pager mt-4"
													style="margin-top: 20px !important;">
													<!-- <button data-direction="prev" class="btn btn-default btn-hover steps_btn">Previous</button>
																<button data-direction="next" class="btn btn-default btn-hover steps_btn">Next</button> -->
													<button data-direction="finish"
														class="btn btn-default btn-hover steps_btn">新增商品</button>
												</div>
												<!-- </div> -->
											</FORM>

										</div>
									</div>
								</div>
							</div>
							<!-- </div> -->
						</div>

					</div>
					<!-- </div> -->
				</div>

			</div>
		</div>
		<!-- </div> -->
	</div>
	<!-- Body End-->
	<!-- Footer Start-->
	<!-- <footer class="footer mt-auto">
		<div class="footer-top">
			<div class="container">
				<div class="row">
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Company</h4>
							<ul class="footer-link-list">
								<li><a href="about_us.html" class="footer-link">About Us</a></li>
								<li><a href="help_center.html" class="footer-link">Help Center</a></li>
								<li><a href="faq.html" class="footer-link">FAQ</a></li>
								<li><a href="contact_us.html" class="footer-link">Contact Us</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Useful Links</h4>
							<ul class="footer-link-list">
								<li><a href="create.html" class="footer-link">Create Event</a></li>
								<li><a href="sell_tickets_online.html" class="footer-link">Sell Tickets Online</a></li>
								<li><a href="privacy_policy.html" class="footer-link">Privacy Policy</a></li>
								<li><a href="term_and_conditions.html" class="footer-link">Terms & Conditions</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Resources</h4>
							<ul class="footer-link-list">
								<li><a href="pricing.html" class="footer-link">Pricing</a></li>
								<li><a href="our_blog.html" class="footer-link">Blog</a></li>
								<li><a href="refer_a_friend.html" class="footer-link">Refer a Friend</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Follow Us</h4>
							<ul class="social-links">
								<li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
							</ul>
						</div>
						<div class="footer-content">
							<h4>Download Mobile App</h4>
							<div class="download-app-link">
								<a href="#" class="download-btn"><img src="images/app-store.png" alt=""></a>
								<a href="#" class="download-btn"><img src="images/google-play.png" alt=""></a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer-bottom">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="footer-copyright-text">
							<p class="mb-0">© 2022, <strong>Barren</strong>. All rights reserved. Powered by
								Gambolthemes</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer> -->
	<!-- Footer End-->



	<script src="js/jquery-3.6.0.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="vendor/OwlCarousel/owl.carousel.js"></script>
	<script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
	<script src="vendor/ckeditor5/ckeditor.js"></script>
	<script src="js/custom.js"></script>
	<script src="js/jquery-steps.min.js"></script>
	<script src="js/datepicker.min.js"></script>
	<script src="js/i18n/datepicker.en.js"></script>
	<!-- Kai  backuserData -->
	<script src="js/backuserData.js"></script>
	<script>
		$('#add-event-tab').steps({
			onFinish: function () {
				// alert('Wizard Completed');
				const checkresults = [judgePname(), judgePtag(), judgePclassno(), judgeHostno(), judgePprice(), judgePspecialprice(), judgePqty(), judgePsdate(), judgePedate(), judgePdiscrip(), judgeImg()]
				let success = 0
				for (const checkresult of checkresults) {
					if (checkresult) {
						success++;
					}
				}
				if (checkresults.length === success) {
					$('#ProductForm').submit();
				}


			}
		});		
	</script>
	<script>
		ClassicEditor
			.create(document.querySelector('#pd_editor'), {
				// toolbar: [ 'heading', '|', 'bold', 'italic', 'link' ]
			})
			.then(editor => {
				window.editor = editor;
			})
			.catch(err => {
				console.error(err.stack);
			});
	</script>

	<script>

		//類別從資料庫帶入
		fetch("PclassController", {
			method: "POST",
			body: new URLSearchParams({ 'action': "productClassList" })
		}).then(resp => resp.json())
			.then(list => {
				for (let item of list) {
					$('#pclassSelector').append(`<option value=${item.pclassno}>${item.pclassname}</option>`);
				}
			}).then(function () {
				$('.selectpicker').selectpicker('refresh');
			})


		//主辦單位從資料庫帶入
		fetch("/host/gh")
			.then(resp => resp.json())
			.then(list => {
				for (let item of list) {
					$('#hostno').append(`<option value=${item.hostno}>${item.hostname}</option>`);
				}
			}).then(function () {
				$('.selectpicker').selectpicker('refresh');
			})

	</script>

	<!-- 動態產生上傳商品圖片，一定要用jQuery.append()才可以正常送資料進資料庫，用JS+=到Controller檔案長度會是0無法順利送出 -->
	<script>
		let count = 1
		previewPicture();

		$(document).ready(function () {
			$("[name='pname']").focus();
		});

		function previewPicture() {
			// const uploadPictures = document.querySelector('#uploadPictures');

			$('#uploadPictures').append(`<div class="default-event-thumb">
											 	<div class="default-event-thumb-btn">
													<div class="thumb-change-btn">
														<input type="file" id="thumb-img${count}" name=pimg${count}>
															<label for="thumb-img${count}">新增圖片</label>
	
	
											</div>
																			</div>
																			<img id=img${count} src="images/banners/hero-cover-01.jpg" alt="" style="border:#102743">
																		</div>`);

			const input = document.querySelector(`#thumb-img${count}`);
			input.addEventListener('change', function ({ target }) {
				const { files } = target;
				const img = document.querySelector('#img' + count);
				img.src = URL.createObjectURL(files[0]);
				count++;
				previewPicture();
			})

		}
	</script>

	<script>
		//錯誤處理
		//商品名稱不得為空
		$("#pname").blur(function (e) {
			if (!judgePname(e.target.value)) {
				// $("#pname").focus();
			}
		})

		function judgePname() {
			if (pname.value === '') {
				$("#pnameErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品名稱為必填欄位`);
				return;
			} else {
				$("#pnameErr").html('');
				return true;
			}
		}
		//商品特色標籤不得為空
		$("#ptag").blur(function (e) {
			if (!judgePtag(e.target.value)) {
				// $("#ptag").focus();
			}
		})

		function judgePtag() {
			if (ptag.value === '') {
				$("#ptagErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品特色標籤為必填欄位`);
				return;
			} else {
				$("#ptagErr").html('');
				return true;
			}
		}

		//下拉式選單要如何做錯誤驗證?-pclassno
		$("#pclassSelector").on('select change blur', (function (e) {
			if (!judgePclassno(e.target.value)) {
				// $("#pclassno").focus();
			}
		}))

		$("button [data-id='pclassSelector']").on('select change blur click', (function (e) {
			if (!judgePclassno(e.target.value)) {
				// $("#pclassno").focus();
			}
		}))

		function judgePclassno() {
			if (pclassSelector.value === '') {
				$("#pclassnoErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品類別為必填欄位`);
				return;
			} else {
				$("#pclassnoErr").html('');
				return true;
			}
		}

		$("#hostno").on('select change blur', (function (e) {
			if (!judgeHostno(e.target.value)) {
				// $("#pclassno").focus();
			}
		}))

		function judgeHostno() {
			if (hostno.value === '') {
				$("#hostnoErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>主辦單位為必填欄位`);
				return;
			} else {
				$("#hostnoErr").html('');
				return true;
			}
		}

		//下拉式選單要如何做錯誤驗證?-hostno

		//原價
		$("#pprice").blur(function (e) {
			if (!judgePprice(e.target.value)) {
				// $("#pprice").focus();
			}
		})

		function judgePprice() {
			if (Number(pprice.value) === '' || Number(pprice.value) < 0) {
				$("#ppriceErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品原價為必填欄位且不得為負數`);
				return;
			} else {
				$("#ppriceErr").html('');
				return true;
			}
		}
		//特價
		$("#pspecialprice").blur(function (e) {
			if (!judgePspecialprice(e.target.value)) {
				// $("#pspecialprice").focus();
			}
		})

		function judgePspecialprice() {
			if (Number(pspecialprice.value) === '' || Number(pspecialprice.value) >  Number($("#pprice").val()) || Number(pspecialprice.value) < 0) {
				$("#pspecialpriceErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品特價為必填欄位且不得大於原價且不得為負數`);
				return;
			} else {
				$("#pspecialpriceErr").html('');
				return true;
			}
		}
		//數量
		$("#pqty").blur(function (e) {
			if (!judgePqty(e.target.value)) {
				// $("#pqty").focus();
			}
		})

		function judgePqty() {
			if (pqty.value === '' || pqty.value < 0) {
				$("#pqtyErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品數量為必填欄位且不得為負數`);
				return;
			} else {
				$("#pqtyErr").html('');
				return true;
			}
		}

		//上架時間
		$("#psdate").blur(function (e) {
			if (!judgePsdate(e.target.value)) {
				// $("#psdate").focus();
			}
		})

		function judgePsdate() {
			if (psdate.value === '') {
				$("#psdateErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>上架日期為必填欄位`);
				return;
			} else {
				$("#psdateErr").html('');
				return true;
			}
		}
		$('.datepicker-here').datepicker({
			minDate: new Date() // 將最小日期設定為當前日期
		});

		//下架時間
		$("#pedate").blur(function (e) {
			if (!judgePedate(e.target.value)) {
				// $("#pedate").focus();
			}
		})

		//外加判斷下架日期必須比上架日期晚
		function judgePedate() {
			let psdateVal=$("#psdate").val();
			let pedateVal=$("#pedate").val();
			let newPsdate =new Date(psdateVal.substring(0, 4) + "/" + psdateVal.substring(5, 7) + "/" + psdateVal.substring(8, 10));
			let newPedate =new Date(pedateVal.substring(0, 4) + "/" + pedateVal.substring(5, 7) + "/" + pedateVal.substring(8, 10));
			let newPsdateToString =Date.parse(newPsdate.toDateString());
			let newPedateToString =Date.parse(newPedate.toDateString());
			if (pedate.value === '') {
				$("#pedateErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>下架日期為必填欄位`);
				return;
			} else if(newPsdateToString > newPedateToString){
				$("#pedateErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>下架時間必須比上架日期晚`);
			}else{
				$("#pedateErr").html('');
				return true;
			}
		}



		//圖片
		function judgeImg() {
			if ($("#img2").length === 0) {
				$("#imgErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>請至少上傳一張圖片`);
				return;
			} else {
				$("#imgErr").html('');
				return true;
			}
		}

		//描述
		$("#pd_editor").blur(function (e) {
			if (!judgePdiscrip(e.target.value)) {
				// $("#pdiscrip").focus();
			}
		})

		function judgePdiscrip() {
			if (editor.getData() === '') {
				$("#pdiscripErr").html(`<i class="fa-sharp fa-solid fa-circle-exclamation"></i>商品描述為必填欄位`);
				return;
			} else {
				$("#pdiscripErr").html('');
				return true;
			}
		}








	</script>

	<script>

		// 複製商品-帶出既有資料，新建商品
		let urlParams = new URLSearchParams(window.location.search);
		const productno = urlParams.get('productno');

		//為了避免新增商品跑進來複製商品
		if (productno !== null) {
			fetch("ProductInfoServlet", {
				method: 'POST',
				body: new URLSearchParams({
					'action': "singleProduct",
					'productno': productno
				})
			})
				.then(resp => resp.json())
				.then(item => {
					// $("[name='productno']").val(item.productno); 新增會自動編號
					// $("[name='pratetotal']").val(item.pratetotal); 新增時預設為0
					// $("[name='prateqty']").val(item.prateqty); 新增時預設為0
					$("[name='pname']").val(item.pname);
					$("[name='ptag']").val(item.ptag);
					$("[name='pclassno']").val(item.pclassno);
					$("select[name='pclassno']").selectpicker('refresh');
					$("select[name='hostno']").val(item.hostno);
					$("select[name='hostno']").selectpicker('refresh');
					$("[name='pprice']").val(item.pprice);
					$("[name='pspecialprice']").val(item.pspecialprice);
					$("[name='pqty']").val(item.pqty);
					$("[name='psdate']").val(item.psdate);
					$("[name='pedate']").val(item.pedate);
					$("[name='pstatus']").val(item.pstatus);
					$("select[name='pstatus']").selectpicker('refresh');

					editor.setData(item.pdiscrip);

				});
		}


	</script>
</body>

</html>