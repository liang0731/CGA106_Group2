<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, shrink-to-fit=9">
	<meta name="description" content="Gambolthemes">
	<meta name="author" content="Gambolthemes">
	<title>Barren - Simple Online Event Ticketing System</title>

	<!-- Favicon Icon -->
	<link rel="icon" type="image/png" href="images/fav.png">

	<!-- Stylesheets -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
		rel="stylesheet">
	<link href='vendor/unicons-2.0.1/css/unicons.css' rel='stylesheet'>
	<link href="css/style.css" rel="stylesheet">
	<link href="css/responsive.css" rel="stylesheet">
	<link href="css/night-mode.css" rel="stylesheet">

	<!-- Vendor Stylesheets -->
	<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
	<link href="vendor/OwlCarousel/assets/owl.carousel.css" rel="stylesheet">
	<link href="vendor/OwlCarousel/assets/owl.theme.default.min.css" rel="stylesheet">
	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">

	<!-- style.css 2428行改過margin 原為:-70 -->
	<style>
		form label.lab {
			display: inline-block;
			width: 120px;
			/* 設定欄位名稱的寬度 */
			text-align: right;
			/* 將欄位名稱向右對齊 */
			margin-right: 10px;
			/* 設定欄位名稱與輸入框之間的間距 */
		}

		form input[type="text"],
		form input[type="password"],
		form input[type="email"],
		form input[type="tel"],
		form input[type="date"] {
			display: inline-block;
			width: 200px;
			/* 設定輸入框的寬度 */
			border: 1px solid gray;
		}

		#email {
			border: 1px solid white;
		}

		#btn1,
		#btn2,
		#btn3 {
			display: inline-block;
			margin-bottom: 10px;
			margin-left: 130px;

		}
	</style>
</head>

<body class="d-flex flex-column h-100">
	<!-- Follow People Model Start-->
	<div class="modal fade" id="FFModal" tabindex="-1" aria-labelledby="FFModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="FFModalLabel">追蹤商品</h5>
					<button type="button" class="close-model-btn" data-bs-dismiss="modal" aria-label="Close"><i
							class="uil uil-multiply" onclick="followproductList()"></i></button>
				</div>
				<div class="modal-body">
					<div class="model-content follow-people-content">
						<div class="">
							<ul class="nav nav-pills ff-tablist mb-2" role="tablist">
								<li class="nav-item d-flex me-4">
									<a class="nav-link px-0 pt-0 pb-3 active" id="pills-following-tab"
										data-bs-toggle="pill" href="#following" role="tab" aria-controls="following"
										aria-selected="true">Following <span class="following_count">(2)</span></a>
								</li>
								<!-- <li class="nav-item d-flex">
									<a class="nav-link px-0 pt-0 pb-3" id="pills-followers-tab" data-bs-toggle="pill"
										href="#followers" role="tab" aria-controls="followers"
										aria-selected="false">Followers </a>
								</li> -->
							</ul>
							<div class="tab-content mt-4">
								<div class="tab-pane fade active show" id="following" role="tabpanel"
									aria-labelledby="pills-following-tab">
									<div class="users-list min-height-430" id="productFollowing">
										<!-- 追蹤商品區塊開始 -->
										<div class="user-follow-card mb-4">
											<div class="follow-card-left">
												<div class="follow-avatar">
													<img src="images/profile-imgs/img-2.jpg" alt="">
												</div>
												<div class="follow-name">
													<h5>商品名稱</h5>
													<span>商品原價</span>
													<span>商品特價</span>
												</div>
											</div>
											<div class="follow-card-btn">
												<button class="follow-btn">取消追蹤</button>
											</div>
											<div class="follow-card-btn">
												<button class="follow-btn">加入購物車</button>
											</div>
										</div>
										<!-- 追蹤商品區塊結束 -->
										<div class="user-follow-card mb-4">
											<div class="follow-card-left">
												<div class="follow-avatar">
													<img src="images/profile-imgs/img-1.jpg" alt="">
												</div>
												<div class="follow-name">
													<h5>Rock Smith</h5>
													<span>3 Followers</span>
												</div>
											</div>
											<div class="follow-card-btn">
												<button class="follow-btn">Following</button>
											</div>
										</div>
									</div>
								</div>
								<div class="tab-pane fade" id="followers" role="tabpanel"
									aria-labelledby="pills-followers-tab">
									<div id="followers-empty-state"
										class="d-flex align-items-center justify-content-center flex-column min-height-430">
										<span>
											<svg width="60" height="47" viewBox="0 0 60 47" fill="none">
												<path
													d="M41.8884 39.501C41.2649 38.8161 41.1572 37.7618 41.9808 37.0461L48.8852 30.1433C50.44 28.5811 52.8108 30.9436 51.2559 32.4981L47.1225 36.6306H56.1899C56.467 35.6917 56.644 35.0145 56.644 34.0064C56.644 28.0732 50.5247 24.6256 45.152 24.6256C40.9724 24.6256 36.4387 26.5956 34.5067 30.4819C36.5234 33.0521 37.7088 36.138 37.7088 39.4702C37.7088 41.6788 37.1623 43.8566 36.1693 45.8267C35.1918 47.7967 32.1976 46.3038 33.1828 44.3337C33.9525 42.8023 34.3528 41.1863 34.3528 39.4702C34.3528 31.4515 26.1321 26.7188 18.8505 26.7188C11.5767 26.7188 3.36369 31.4515 3.36369 39.4702C3.36369 41.2017 3.74856 42.7793 4.52598 44.326C5.51892 46.2961 2.5247 47.7967 1.53945 45.8344C0.546504 43.8643 0 41.6711 0 39.4702C0 32.3749 5.23412 26.8573 11.6228 24.5948C7.8127 22.1322 5.49583 17.9151 5.49583 13.3594C5.49583 5.98709 11.4843 0 18.8505 0C26.2322 0 32.2207 5.98709 32.2207 13.3594C32.2207 17.9228 29.8961 22.1322 26.086 24.5948C28.3412 25.3874 30.3656 26.5495 32.0744 27.9808C33.6369 25.4798 36.0616 23.6098 38.7787 22.5016C36.1001 20.4854 34.5221 17.3533 34.5221 13.9904C34.5221 8.11875 39.2867 3.35524 45.152 3.35524C51.0327 3.35524 55.7896 8.11105 55.7896 13.9904C55.7896 17.3533 54.2117 20.4931 51.5253 22.5016C56.2668 24.4332 60 28.6811 60 34.0064C60 34.8683 59.8922 35.7379 59.6921 36.5921C59.492 37.4386 59.1841 38.262 58.7838 39.0623C58.4913 39.6472 57.9063 39.9858 57.2906 39.9858L47.1302 39.9935L51.2559 44.1183C52.8185 45.6805 50.4477 48.0507 48.8852 46.4885L41.8884 39.501ZM18.8505 3.36293C13.3239 3.36293 8.85183 7.83401 8.85183 13.3594C8.85183 18.9001 13.3085 23.3481 18.8505 23.3481C24.3926 23.3481 28.857 18.9001 28.857 13.3594C28.857 7.84171 24.3772 3.36293 18.8505 3.36293ZM45.152 6.71047C41.1418 6.71047 37.8781 9.97336 37.8781 13.9904C37.8781 18.0152 41.1341 21.255 45.1597 21.255C49.1931 21.255 52.4336 18.0228 52.4336 13.9904C52.4336 9.97336 49.1777 6.71047 45.152 6.71047Z"
													fill="#6ac045"></path>
											</svg>
										</span>
										<p class="font-16 mt-4 text-light3">No followers yet</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Follow People Model End-->
	<!-- About Details Model Start-->
	<div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="aboutModalLabel">Edit Details</h5>
					<button type="button" class="close-model-btn" data-bs-dismiss="modal" aria-label="Close"><i
							class="uil uil-multiply"></i></button>
				</div>
				<div class="modal-body">
					<div class="model-content main-form">
						<div class="row">
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">First Name*</label>
									<input class="form-control h_40" type="text" placeholder="" value="John">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Last Name*</label>
									<input class="form-control h_40" type="text" placeholder="" value="Doe">
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Bio*</label>
									<textarea class="form-textarea" placeholder=""></textarea>
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Email*</label>
									<input class="form-control h_40" type="text" placeholder=""
										value="Johndoe@example.com">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Phone*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Website*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Facebook*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Instagram*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Twitter*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">LinkedIn*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Youtube*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<h4 class="address-title">Address</h4>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Address 1*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Address 2*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group main-form mt-4">
									<label class="form-label">Country*</label>
									<select class="selectpicker" data-size="5" title="Nothing selected"
										data-live-search="true">
										<option value="Algeria">Algeria</option>
										<option value="Argentina">Argentina</option>
										<option value="Australia">Australia</option>
										<option value="Austria">Austria (Österreich)</option>
										<option value="Belgium">Belgium (België)</option>
										<option value="Bolivia">Bolivia</option>
										<option value="Brazil">Brazil</option>
										<option value="Canada">Canada</option>
										<option value="Chile">Chile</option>
										<option value="Colombia">Colombia</option>
										<option value="Costa Rica">Costa Rica</option>
										<option value="Cyprus">Cyprus</option>
										<option value="Czech Republic">Czech Republic</option>
										<option value="Denmark">Denmark</option>
										<option value="Dominican Republic">Dominican Republic</option>
										<option value="Estonia">Estonia</option>
										<option value="Finland">Finland</option>
										<option value="France">France</option>
										<option value="Germany">Germany</option>
										<option value="Greece">Greece</option>
										<option value="Hong Kong">Hong Kong</option>
										<option value="Iceland">Iceland</option>
										<option value="India">India</option>
										<option value="Indonesia">Indonesia</option>
										<option value="Ireland">Ireland</option>
										<option value="Israel">Israel</option>
										<option value="Italy">Italy</option>
										<option value="Japan">Japan</option>
										<option value="Latvia">Latvia</option>
										<option value="Lithuania">Lithuania</option>
										<option value="Luxembourg">Luxembourg</option>
										<option value="Malaysia">Malaysia</option>
										<option value="Mexico">Mexico</option>
										<option value="Nepal">Nepal</option>
										<option value="Netherlands">Netherlands</option>
										<option value="New Zealand">New Zealand</option>
										<option value="Norway">Norway</option>
										<option value="Paraguay">Paraguay</option>
										<option value="Peru">Peru</option>
										<option value="Philippines">Philippines</option>
										<option value="Poland">Poland</option>
										<option value="Portugal">Portugal</option>
										<option value="Singapore">Singapore</option>
										<option value="Slovakia">Slovakia</option>
										<option value="Slovenia">Slovenia</option>
										<option value="South Africa">South Africa</option>
										<option value="South Korea">South Korea</option>
										<option value="Spain">Spain</option>
										<option value="Sweden">Sweden</option>
										<option value="Switzerland">Switzerland</option>
										<option value="Tanzania">Tanzania</option>
										<option value="Thailand">Thailand</option>
										<option value="Turkey">Turkey</option>
										<option value="United Kingdom">United Kingdom</option>
										<option value="United States">United States</option>
										<option value="Vietnam">Vietnam</option>
									</select>
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">State*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">City/Suburb*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
							<div class="col-lg-6 col-md-12">
								<div class="form-group mt-4">
									<label class="form-label">Zip/Post Code*</label>
									<input class="form-control h_40" type="text" placeholder="" value="">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="co-main-btn min-width btn-hover h_40" data-bs-target="#aboutModal"
						data-bs-toggle="modal" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="main-btn min-width btn-hover h_40">Update</button>
				</div>
			</div>
		</div>
	</div>
	<!-- About Details Model End-->
	<!-- Header Start-->
	<header class="header">
		<div class="header-inner">
			<nav
				class="navbar navbar-expand-lg bg-barren barren-head navbar fixed-top justify-content-sm-start pt-0 pb-0">
				<div class="container">
					<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
						data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
						<span class="navbar-toggler-icon">
							<i class="fa-solid fa-bars"></i>
						</span>
					</button>
					<a class="navbar-brand order-1 order-lg-0 ml-lg-0 ml-2 me-auto" href="index.html">
						<div class="res-main-logo">
							<img src="images/logo-icon.svg" alt="">
						</div>
						<div class="main-logo" id="logo">
							<img src="images/logo.svg" alt="">
							<img class="logo-inverse" src="images/dark-logo.svg" alt="">
						</div>
					</a>
					<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
						aria-labelledby="offcanvasNavbarLabel">
						<div class="offcanvas-header">
							<div class="offcanvas-logo" id="offcanvasNavbarLabel">
								<img src="images/logo-icon.svg" alt="">
							</div>
							<button type="button" class="close-btn" data-bs-dismiss="offcanvas" aria-label="Close">
								<i class="fa-solid fa-xmark"></i>
							</button>
						</div>
						<div class="offcanvas-body">
							<div class="offcanvas-top-area">
								<div class="create-bg">
									<a href="create.html" class="offcanvas-create-btn">
										<i class="fa-solid fa-calendar-days"></i>
										<span>Create Event</span>
									</a>
								</div>
							</div>
							<ul class="navbar-nav justify-content-end flex-grow-1 pe_5">
								<li class="nav-item">
									<a class="nav-link active" aria-current="page" href="index.html">Home</a>
								</li>
								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
										aria-expanded="false">
										Explore Events
									</a>
									<ul class="dropdown-menu dropdown-submenu">
										<li><a class="dropdown-item" href="explore_events.html">Explore Events</a></li>
										<li><a class="dropdown-item" href="venue_event_detail_view.html">Venue Event
												Detail View</a></li>
										<li><a class="dropdown-item" href="online_event_detail_view.html">Online Event
												Detail View</a></li>
									</ul>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="pricing.html">Pricing</a>
								</li>
								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
										aria-expanded="false">
										Blog
									</a>
									<ul class="dropdown-menu dropdown-submenu">
										<li><a class="dropdown-item" href="our_blog.html">Our Blog</a></li>
										<li><a class="dropdown-item" href="blog_detail_view.html">Blog Detail View</a>
										</li>
									</ul>
								</li>
								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
										aria-expanded="false">
										Help
									</a>
									<ul class="dropdown-menu dropdown-submenu">
										<li><a class="dropdown-item" href="faq.html">FAQ</a></li>
										<li><a class="dropdown-item" href="help_center.html">Help Center</a></li>
										<li><a class="dropdown-item" href="contact_us.html">Contact Us</a></li>
									</ul>
								</li>
								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
										aria-expanded="false">
										Pages
									</a>
									<ul class="dropdown-menu dropdown-submenu">
										<li>
											<a class="dropdown-item submenu-item" href="#">Other Pages</a>
											<ul class="submenu dropdown-menu">
												<li><a class="dropdown-item pe-5"
														href="front-users-mem-sign-in.html">Sign In</a></li>
												<li><a class="dropdown-item pe-5" href="front-users-sign-up.html">Sign
														Up</a></li>
												<li><a class="dropdown-item pe-5"
														href="front-users-forgot-pwd.html">Forgot
														Password</a></li>
												<li><a class="dropdown-item pe-5" href="about_us.html">About Us</a></li>
												<li><a class="dropdown-item pe-5" href="checkout.html">Checkout</a></li>
												<li><a class="dropdown-item pe-5" href="checkout_premium.html">Checkout
														Premium</a></li>
												<li><a class="dropdown-item pe-5" href="invoice.html">Invoice</a></li>
												<li><a class="dropdown-item pe-5" href="coming_soon.html">Coming
														Soon</a></li>
												<li><a class="dropdown-item pe-5" href="error_404.html">Error 404</a>
												</li>
											</ul>
										</li>
										<li>
											<a class="dropdown-item submenu-item" href="#">Create Event</a>
											<ul class="submenu dropdown-menu">
												<li><a class="dropdown-item pe-5" href="create.html">Create</a></li>
												<li><a class="dropdown-item pe-5" href="create_venue_event.html">Create
														Venue Event</a></li>
												<li><a class="dropdown-item pe-5" href="create_online_event.html">Create
														Online Event</a></li>
											</ul>
										</li>
										<li>
											<a class="dropdown-item submenu-item" href="#">Events View</a>
											<ul class="submenu dropdown-menu">
												<li><a class="dropdown-item pe-5"
														href="online_event_detail_view.html">Online Event Detail
														View</a></li>
												<li><a class="dropdown-item pe-5"
														href="venue_event_detail_view.html">Venue Event Detail View</a>
												</li>
											</ul>
										</li>
										<li><a class="dropdown-item" href="booking_confirmed.html">Booking Confirmed</a>
										</li>
										<li><a class="dropdown-item" href="attendee_profile_view.html">Attendee Profile
												View</a></li>
										<li><a class="dropdown-item" href="organiser_profile_view.html">Organiser
												Profile View</a></li>
										<li><a class="dropdown-item" href="my_organisation_dashboard.html">Organization
												Dashboard</a></li>
										<li><a class="dropdown-item" href="sell_tickets_online.html">Sell Tickets
												Online</a></li>
										<li><a class="dropdown-item" href="refer_a_friend.html">Refer a Friend</a></li>
										<li><a class="dropdown-item" href="term_and_conditions.html">Terms &
												Conditions</a></li>
										<li><a class="dropdown-item" href="privacy_policy.html">Privacy Policy</a></li>
									</ul>
								</li>
							</ul>
						</div>
						<div class="offcanvas-footer">
							<div class="offcanvas-social">
								<h5>Follow Us</h5>
								<ul class="social-links">
									<li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
								</ul>
							</div>
						</div>
					</div>
					<div class="right-header order-2">
						<ul class="align-self-stretch">
							<li>
								<a href="create.html" class="create-btn btn-hover">
									<i class="fa-solid fa-calendar-days"></i>
									<span>Create Event</span>
								</a>
							</li>
							<li class="dropdown account-dropdown">
								<a href="#" class="account-link" role="button" id="accountClick"
									data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false">
									<img class="mimg" src="images/profile-imgs/img-13.jpg" alt="">
									<i class="fas fa-caret-down arrow-icon"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-account dropdown-menu-end"
									aria-labelledby="accountClick">
									<li>
										<div class="dropdown-account-header">
											<div class="account-holder-avatar">
												<img class="mimg" src="images/profile-imgs/img-13.jpg" alt="">
											</div>
											<h5 id="memname" class="un"><!-- 會員名 --></h5>
											<p id="mememail"><!-- 會員email --></p>
										</div>
									</li>
									<li class="profile-link">
										<a href="index.html" class="link-item">回到首頁</a>
										<a href="front-users-mem-sign-in.html" class="link-item">登出</a>
									</li>
								</ul>
							</li>
							<li>
								<div class="night_mode_switch__btn">
									<div id="night-mode" class="fas fa-moon fa-sun"></div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="overlay"></div>
		</div>
	</header>
	<!-- Header End-->
	<!-- Body Start-->
	<div class="wrapper">
		<!-- <div class="profile-banner">
			<div class="hero-cover-block">
				<div class="hero-cover">
					<div class="hero-cover-img"></div>
				</div>
				<div class="upload-cover">
					<div class="container">
						<div class="row">
							<div class="col-12">
								<div class="cover-img-btn">
									<input type="file" id="cover-img">
									<label for="cover-img"><i class="fa-solid fa-panorama me-3"></i>Change Image</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div> -->
		<div class="user-dt-block">
			<div class="container">
				<div class="row">
					<div class="col-xl-4 col-lg-5 col-md-12">
						<div class="main-card user-left-dt"> <!-- style.css 2428行改過margin 原為-70 -->
							<div class="user-avatar-img">
								<img class="mimg" src="images/profile-imgs/img-13.jpg" accept="image/*">
								<div class="avatar-img-btn">
									<input type="file" id="avatar-img">
									<label for="avatar-img"><i class="fa-solid fa-camera"></i></label>
								</div>
							</div>
							<div class="user-dts">
								<h4 class="user-name un"><!-- 會員名 --><span class="verify-badge"><i
											class="fa-solid fa-circle-check"></i></span></h4>
							</div>
							<div class="user-dts">
								<h4 class="user-email"><!-- 會員emall --></h4>
							</div>
							<div class="ff-block" style="display: inline-block; margin-top: 15px;">
								<a href="#" class="" role="button" data-bs-toggle="modal" data-bs-target="#FFModal"
									onclick="followproductList()"><span>0</span>追蹤商品</a>
							</div>
							<div class="user-btns">
								<a href="index.html"
									class="co-main-btn co-btn-width min-width d-inline-block h_40">回到首頁</a>
							</div>
							<div class="user-btns" id="myCollect">
								<a href='' style="visibility: hidden"
									class="co-main-btn co-btn-width min-width d-inline-block h_40">我的票夾</a>
							</div>
							<div class="user-btns">
								<a href="my_organisation_dashboard.html"
									class="co-main-btn co-btn-width min-width d-inline-block h_40">Ex.聯絡表單之類的</a>
							</div>
						</div>
					</div>
					<div class="col-xl-8 col-lg-7 col-md-12">
						<div class="right-profile">
							<div class="profile-tabs">
								<ul class="nav nav-pills nav-fill p-2 garren-line-tab" id="myTab" role="tablist">
									<li class="nav-item">
										<a class="nav-link active" id="feed-tab" data-bs-toggle="tab" href="#feed"
											role="tab" aria-controls="feed" aria-selected="true"><i
												class="fa-solid fa-house"></i>會員帳號管理</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" id="coupons-tab" data-bs-toggle="tab" href="#coupons" role="tab"
											aria-controls="coupons" aria-selected="false"><i
												class="fa-solid fa-circle-info"></i>我的優惠券</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#orders"
											role="tab" aria-controls="orders" aria-selected="false"><i
												class="fa-solid fa-box"></i>商品訂單</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" id="setting-tab" data-bs-toggle="tab" href="#setting"
											role="tab" aria-controls="setting" aria-selected="false"><i
												class="fa-solid fa-gear"></i>票券訂單</a>
									</li>
								</ul>
								<div class="tab-content" id="myTabContent">
									<div class="tab-pane fade active show" id="feed" role="tabpanel"
										aria-labelledby="feed-tab">
										<div class="nav my-event-tabs mt-4" role="tablist">
											<button class="event-link active" data-bs-toggle="tab"
												data-bs-target="#saved" type="button" role="tab" aria-controls="saved"
												aria-selected="true">
												<span>個人資料</span></button>
											<button class="event-link" data-bs-toggle="tab" data-bs-target="#organised"
												type="button" role="tab" aria-controls="organised"
												aria-selected="false">
												<span>修改密碼</span></button>
											<button class="event-link" data-bs-toggle="tab" data-bs-target="#attending"
												type="button" role="tab" aria-controls="attending"
												aria-selected="false">
												<span>備用收件人</span></button>
										</div>
										<div class="tab-content">
											<div class="tab-pane fade show active" id="saved" role="tabpanel">
												<div class="row">
													<div class="col-md-12">
														<div class="main-card mt-4">
															<div class="card-top p-4">
																<div class="card-event-dt">
																	<form>
																		<label class="lab" for="email">E-Mail帳號：</label>
																		<input type="email" id="email" name="email"
																			readonly="readonly"><br><br>

																		<label class="lab" for="name">姓名：</label>
																		<input type="text" id="name" name="name"
																			required>
																		<p id="mnameError"
																			style="color: red; display: inline-block; margin: 0;">
																		</p><br><br>

																		<label class="lab">性別：</label>
																		<input type="radio" id="male" name="gender"
																			value="1" required>
																		<label for="male">男性</label>
																		<input type="radio" id="female" name="gender"
																			value="2" required>
																		<label for="female">女性</label>
																		<input type="radio" id="unknow" name="gender"
																			value="0" required>
																		<label for="unknow">不便透露</label><br><br>

																		<label class="lab" for="birthday">生日：</label>
																		<input type="date" id="birthday" name="birthday"
																			required><br><br>

																		<label class="lab" for="phone">手機號碼：</label>
																		<input type="tel" id="phone" name="phone"
																			required>
																		<p id="mcellError"
																			style="color: red; display: inline-block; margin: 0;">
																		</p><br><br>

																		<label class="lab" for="alt_phone">備用電話：</label>
																		<input type="tel" id="alt_phone"
																			name="alt_phone">
																		<p id="mphoneError"
																			style="color: red; display: inline-block; margin: 0;">
																		</p><br><br>

																		<label class="lab" for="address">地址：</label>
																		<input type="text" id="address" name="address"
																			required>
																		<p id="maddressError"
																			style="color: red; display: inline-block; margin: 0;">
																		</p><br><br>

																		<div>
																			<button id="btn1" type="button"
																				class="btn btn-primary">儲存</button>&nbsp;
																			<p id="success3"
																				style="color: red; display: inline-block; margin: 0;">
																		</div>
																	</form>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="tab-pane fade" id="organised" role="tabpanel">
												<div class="row">
													<div class="col-md-12">
														<div class="main-card mt-4">
															<div class="card-top p-4">
																<div class="card-event-dt">
																	<form>
																		<label class="lab"
																			for="oldpassword">舊密碼:</label>
																		<input type="password" id="oldpassword"
																			name="oldpassword" required>
																		<p id="oPwdError"
																			style="color: red; display: inline-block; margin: 0;">
																		</p><br><br>

																		<label class="lab"
																			for="newpassword">新密碼:</label>
																		<input type="password" id="newpassword"
																			name="newpassword">
																		<p id="pwdFormatError"
																			style="color: red; display: inline-block; margin: 0;">
																		</p><br><br>

																		<label class="lab"
																			for="confirmPassword">確認密碼:</label>
																		<input type="password" id="confirmPassword"
																			name="confirmPassword" required>
																		<p id="ChPwdError"
																			style="color: red;display: inline-block; margin: 0;">
																		</p><br><br>
																		<div>
																			<button id="btn2" type="button"
																				class="btn btn-primary">儲存</button>&nbsp;
																			<p id="success"
																				style="color: red; display: inline-block; margin: 0;">
																		</div>
																	</form>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="tab-pane fade" id="attending" role="tabpanel">
												<div class="row">
													<div class="col-md-12">
														<div class="main-card mt-4">
															<div class="card-top p-4">
																<form>
																	<label class="lab" for="backupUser">常用收件人:</label>
																	<input type="text" id="backupUser" name="backupUser"
																		required>
																	<p id="cptNullError"
																		style="color: red; display: inline-block; margin: 0;">
																	</p><br><br>

																	<label class="lab"
																		for="backupUserPhone">常用收件人電話:</label>
																	<input type="tel" id="backupUserPhone"
																		name="backupUserPhone" required>
																	<p id="cphoneError"
																		style="color: red; display: inline-block; margin: 0;">
																	</p><br><br>

																	<label class="lab"
																		for="backupUserAddress">常用收件人地址:</label>
																	<input type="text" id="backupUserAddress"
																		name="backupUserAddress">
																	<p id="caddressNullError"
																		style="color: red; display: inline-block; margin: 0;">
																	</p><br><br>

																	<div>
																		<button id="btn3" type="button"
																			class="btn btn-primary">儲存</button>&nbsp;<p
																			id="success4"
																			style="color: red; display: inline-block; margin: 0;"></p>
																	</div>
																</form>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
										<div class="main-card mt-4">
											<div class="bp-title position-relative">
												<h4>About</h4>
												<button class="main-btn btn-hover ms-auto edit-btn me-3 pe-4 ps-4 h_40"
													data-bs-toggle="modal" data-bs-target="#aboutModal">
													<i class="fa-regular fa-pen-to-square me-2"></i>Edit
												</button>
											</div>
											<div class="about-details">
												<div class="about-step">
													<h5>Name</h5>
													<span>Joginder Singh</span>
												</div>
												<div class="about-step">
													<h5>Tell us about yourself and let people know who you are</h5>
													<p class="mb-0">Lorem ipsum dolor sit amet, consectetur
														adipiscing elit. Ut tincidunt interdum nunc et auctor.
														Phasellus quis pharetra sapien. Integer ligula sem, sodales
														vitae varius in, varius eget augue.</p>
												</div>
												<div class="about-step">
													<h5>Find me on</h5>
													<div class="social-links">
														<a href="#" class="social-link" data-bs-toggle="tooltip"
															data-bs-placement="top" title="Facebook"><i
																class="fab fa-facebook-square"></i></a>
														<a href="#" class="social-link" data-bs-toggle="tooltip"
															data-bs-placement="top" title="Instagram"><i
																class="fab fa-instagram"></i></a>
														<a href="#" class="social-link" data-bs-toggle="tooltip"
															data-bs-placement="top" title="Twitter"><i
																class="fab fa-twitter"></i></a>
														<a href="#" class="social-link" data-bs-toggle="tooltip"
															data-bs-placement="top" title="LinkedIn"><i
																class="fab fa-linkedin-in"></i></a>
														<a href="#" class="social-link" data-bs-toggle="tooltip"
															data-bs-placement="top" title="Youtube"><i
																class="fab fa-youtube"></i></a>
														<a href="#" class="social-link" data-bs-toggle="tooltip"
															data-bs-placement="top" title="Website"><i
																class="fa-solid fa-globe"></i></a>
													</div>
												</div>
												<div class="about-step">
													<h5>Address</h5>
													<p class="mb-0">00 Challis St, Newport, Victoria, 0000,
														Australia</p>
												</div>
											</div>
										</div>
									</div>
									<div class="tab-pane fade" id="setting" role="tabpanel"
										aria-labelledby="setting-tab">
										<div class="row">
											<div class="col-lg-12">
												<div class="main-card mt-4 p-0">												
										</div>
											</div>
											<div class="col-lg-12">
												<div class="main-card mt-4">
													<div class="tab-content">
									<!--尉賢HTML開始-->					
														<div id="ticketsList" class="tab-content">
															
														
														</div>
									<!--尉賢HTML結束-->		
														
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="tab-pane fade" id="coupons" role="tabpanel" aria-labelledby="coupons-tab">
										<div class="row">
											<div class="col-lg-12">
												<div class="main-card mt-4 p-0">
													<div class="nav custom-tabs" role="tablist">
														<button class="tab-link active" style="width:50%;" data-bs-toggle="tab"
															data-bs-target="#coupons-01" type="button" role="tab"
															aria-controls="coupons-01" aria-selected="true"><i
																class="fa-solid fa-envelope me-3"></i>我的優惠券</button>
														<button class="tab-link" style="width:50%;" data-bs-toggle="tab"
															data-bs-target="#coupons-02" type="button" role="tab"
															aria-controls="coupons-02" aria-selected="false"><i
																class="fa-solid fa-key me-3"></i>領取優惠券</button>
													</div>
												</div>
											</div>
											<div class="col-lg-12">
												<div class="main-card mt-4">
													<div class="tab-content">
														<div class="tab-pane fade show active" id="coupons-01" role="tabpanel">
															<!-- 優惠卷內容 -->
														</div>
														<div class="tab-pane fade" id="coupons-02" role="tabpanel">
															<!-- 領取優惠卷內容 -->
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
										<div class="main-card mt-4">
											<div class="card-top p-4">
												<div class="card-event-img">
													<img src="images/event-imgs/img-7.jpg" alt="">
												</div>
												<div class="card-event-dt">
													<h5>Tutorial on Canvas Painting for Beginners</h5>
													<div class="invoice-id">Invoice ID :
														<span>BRCCRW-11111111</span>
													</div>
												</div>
											</div>
											<div class="card-bottom">
												<div class="card-bottom-item">
													<div class="card-icon">
														<i class="fa-solid fa-calendar-days"></i>
													</div>
													<div class="card-dt-text">
														<h6>Event Starts on</h6>
														<span>01 June 2022</span>
													</div>
												</div>
												<div class="card-bottom-item">
													<div class="card-icon">
														<i class="fa-solid fa-ticket"></i>
													</div>
													<div class="card-dt-text">
														<h6>Total Tickets</h6>
														<span>1</span>
													</div>
												</div>
												<div class="card-bottom-item">
													<div class="card-icon">
														<i class="fa-solid fa-money-bill"></i>
													</div>
													<div class="card-dt-text">
														<h6>Paid Amount</h6>
														<span>AUD $50.00</span>
													</div>
												</div>
												<div class="card-bottom-item">
													<div class="card-icon">
														<i class="fa-solid fa-money-bill"></i>
													</div>
													<div class="card-dt-text">
														<h6>Invoice</h6>
														<a href="invoice.html">Download</a>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Body End-->
	<!-- Footer Start-->
	<footer class="footer mt-auto">
		<div class="footer-top">
			<div class="container">
				<div class="row">
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Company</h4>
							<ul class="footer-link-list">
								<li><a href="about_us.html" class="footer-link">About Us</a></li>
								<li><a href="help_center.html" class="footer-link">Help Center</a></li>
								<li><a href="faq.html" class="footer-link">FAQ</a></li>
								<li><a href="contact_us.html" class="footer-link">Contact Us</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Useful Links</h4>
							<ul class="footer-link-list">
								<li><a href="create.html" class="footer-link">Create Event</a></li>
								<li><a href="sell_tickets_online.html" class="footer-link">Sell Tickets Online</a></li>
								<li><a href="privacy_policy.html" class="footer-link">Privacy Policy</a></li>
								<li><a href="term_and_conditions.html" class="footer-link">Terms & Conditions</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Resources</h4>
							<ul class="footer-link-list">
								<li><a href="pricing.html" class="footer-link">Pricing</a></li>
								<li><a href="our_blog.html" class="footer-link">Blog</a></li>
								<li><a href="refer_a_friend.html" class="footer-link">Refer a Friend</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Follow Us</h4>
							<ul class="social-links">
								<li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
							</ul>
						</div>
						<div class="footer-content">
							<h4>Download Mobile App</h4>
							<div class="download-app-link">
								<a href="#" class="download-btn"><img src="images/app-store.png" alt=""></a>
								<a href="#" class="download-btn"><img src="images/google-play.png" alt=""></a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer-bottom">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="footer-copyright-text">
							<p class="mb-0">© 2022, <strong>Barren</strong>. All rights reserved. Powered by
								Gambolthemes</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<!-- Footer End-->



	<script src="js/jquery-3.6.0.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="vendor/OwlCarousel/owl.carousel.js"></script>
	<script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
	<script src="js/custom.js"></script>
	<script src="js/night-mode.js"></script>
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
	<!-- Jie JavaScript Start-->
	<script src="js/product-profile_view.js"></script>
	<!-- Jie JavaScript End-->
    <!-- kai 非會員導出修正版 -->
    <script src="js/forMemberProfile.js"></script>

	<script>
		//追蹤商品清單呈現&移除
		$(document).ready(function () {
			followproductList();
		});

		const info = {
			memberNo: 85346
		}

		function followproductList() {
			$("#productFollowing").empty();
			fetch("FollowproductController", {
				method: "POST",
				body: new URLSearchParams({
					'memberno': info.memberNo,
					'action': "getFollowProductList"
				})
			}).then(resp => resp.json())
				.then(list => {
					console.log(list.length);
					$(".ff-block").children("a").children("span").text(list.length);
					$("#pills-following-tab").children("span").text("(" + list.length + ")");
					for (let item of list) {

						fetch("ProductInfoServlet", {
							method: "POST",
							body: new URLSearchParams({
								'productno': item.followproductPK.productno,
								'action': "singleProduct"
							})
						}).then(resp => resp.json())
							.then(product => {
								let image = product.pimgts && product.pimgts[0] && product.pimgts[0].pimgno;
								if (image === undefined) { image = 70001; }
								$("#productFollowing").append(`<div class="user-follow-card mb-4">
											<div class="follow-card-left">
												<div class="follow-avatar">
													<img src="ProductImg?pimgno=${image}" alt="">
												</div>
												<div class="follow-name">
													<h5>${product.pname}</h5>
													<span>${product.pprice}</span>
													<span>${product.pspecialprice}</span>
												</div>
											</div>
											<div class="follow-card-btn">
												<button name ="${product.productno}" class="follow-btn" onclick="unfollow(this.name)" >取消追蹤</button>
											</div>
											<div class="follow-card-btn">
												<button class="follow-btn">加入購物車</button>
											</div>
										</div>`);
							})
					}
				})
		}

		//追蹤商品移除
		function unfollow(productno) {
			fetch("FollowproductController", {
				method: 'POST',
				body: new URLSearchParams({
					'memberno': info.memberNo,
					'productno': productno,
					'action': "unfollowOneProduct"
				})
			}).then(resp => resp.json())
				.then(item => {
					if (item) {
						followproductList();
					}
				})
		}



		//------------------------------------------------------------------------------------------
		//得到會員資訊
		fetch('member/getMemberInfo', {
			method: 'GET',
		})
			.then(response => response.json())
			.then(response => {
				//測試檢視拿到的資料
				console.log(response);

				//頭貼那邊顯示會員ID資料
				$(".un").text(`${response.mname}`)
				$("#mememail").text(`${response.memail}`)
				$(".user-email").text(`${response.memail}`)

				//頭貼圖片顯示
				const url = `data:image/png;base64,${response.mimg}`;
				$('.mimg').attr('src', url);

				//頭貼圖片上傳
				$("#avatar-img").change((event) => {
					// 建立一個 FormData 物件，將使用者選擇的圖片加入
					const file = event.target.files[0];
					const formData = new FormData();
					formData.append("file", file);
					formData.append("memberno", response.memberno);
					console.log("圖片更換")
					// 將使用者上傳的圖片存入資料庫
					fetch("member/upload-mimg", {
						method: "POST",
						body: formData
					}).then(response => {
						if (response.ok) {
							const reader = new FileReader();
							reader.onload = (e) => {
								$('.mimg').attr('src', e.target.result);
							}
							reader.readAsDataURL(file);
						} else {
							console.log("上傳失敗");
						}
					}).catch(error => {
						console.log("上傳失敗");
					});
				})
				//顯示會員原有的資料
				$("#email").val(`${response.memail}`)
				
				$("#name").val(`${response.mname}`)
				$("#birthday").val(`${response.birth}`)
				$("#phone").val(`${response.mcell}`)
				$("#alt_phone").val(`${response.mphone}`)
				$("#address").val(`${response.address}`)
				if (response.gender === 1) {
					$("#male").prop("checked", true);
				} else if (response.gender === 2) {
					$("#female").prop("checked", true);
				} else {
					$("#unknow").prop("checked", true);
				}

				//顯示會員的備用收件人資料
				$("#backupUser").val(`${response.comrecipient}`);
				$("#backupUserPhone").val(`${response.comrephone}`);
				$("#backupUserAddress").val(`${response.comreaddress}`);
			})
			.catch(error => {
				console.log('發生錯誤:', error);
			});

		//按下修改密碼的按鈕時
		$("#btn2").click(() => {
			const oldPwdIpVal = $("#oldpassword").val();
			const newPwdIpVal = $("#newpassword").val();
			const cfPwdIpVal = $("#confirmPassword").val();
			if (oldPwdIpVal === '' || newPwdIpVal === '' || cfPwdIpVal === '') {
				$("#success").text("上述欄位請勿空白！")
				return;
			} else {
				$("#success").text("")
			}
			fetch("member/changePwd", {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded'
				},
				body: `oldpassword=${oldPwdIpVal}&newpassword=${newPwdIpVal}&confirmpassword=${cfPwdIpVal}`
			}).then(response => {
				response.json().then(resultMap => {
					console.log(resultMap);
					//沒登入
					if (resultMap.noSessionError) {
						window.location.href = 'index.html';
					}

					//成功
					if (resultMap.success) {
						$("#success").text(resultMap.success)
					}  else {
						$("#success").text("")
					}
					//舊密碼不同
					if (resultMap.oPwdError) {
						$("#oPwdError").text(resultMap.oPwdError);
					} else {
						$("#oPwdError").text("");
					}
					//新密碼確認密碼不同
					if (resultMap.ChPwdError) {
						$("#ChPwdError").text(resultMap.ChPwdError);
					} else {
						$("#ChPwdError").text("");
					}
					//新密碼格式錯誤
					if (resultMap.pwdFormatError) {
						$("#pwdFormatError").text(resultMap.pwdFormatError);
					}else {
						$("#pwdFormatError").text("");

					}
				});
			}).catch(err => {
				console.log('發生錯誤:', err);
			});
		});
		//按下儲存備用收件人時
		$("#btn3").click(() => {
			const comrecipient = $('#backupUser').val();
			const comrephone = $('#backupUserPhone').val();
			const comreaddress = $('#backupUserAddress').val();
			const data = {
				comrecipient: comrecipient,
				comrephone: comrephone,
				comreaddress: comreaddress
			};
			fetch('member/saveCpt', {
				method: 'POST',
				headers: { 'Content-Type': 'application/json' },
				body: JSON.stringify(data)
			}).then(response => {
				response.json().then(resultMap =>{
					console.log(resultMap);
					//沒登入
					if (resultMap.noSessionError) {
						window.location.href = 'index.html';
					}
					//備用收件人為空
					if (resultMap.cptNullError) {
						$("#cptNullError").text(resultMap.cptNullError);
					} else {
						$("#cptNullError").text("");
					}
					//備用收件人電話為空
					if (resultMap.cphoneNullError) {
						$("#cphoneError").text(resultMap.cphoneNullError);
					} else if (resultMap.phoneFormatError) {//備用收件人電話格式錯誤
						$("#cphoneError").text(resultMap.phoneFormatError);
					} else {
						$("#cphoneError").text("");
					}
					//備用收件人地址為空
					if (resultMap.caddressNullError) {
						$("#caddressNullError").text(resultMap.caddressNullError);
					} else {
						$("#caddressNullError").text("");
					}

					//成功存入
					if (resultMap.success) {
						$("#success4").text(resultMap.success)
					}  else {
						$("#success4").text("")
					}
				})
			}).catch(err => {
				console.log('發生錯誤:', err);
			});
		});

		//按下儲存更改會員資料時
		$("#btn1").click(() => {

			const data = {
				memail: $("#email").val(),
				mname: $("#name").val(),
				gender: $("input[name='gender']:checked").val(),
				birth: $("#birthday").val(),
				mcell: $("#phone").val(),
				mphone: $("#alt_phone").val(),
				address: $("#address").val()
			}
			fetch("member/saveMemberEdit", {
				method: 'POST',
				headers: { 'Content-Type': 'application/json' },
				body: JSON.stringify(data)
			}).then(response => {
			if (response.ok) {
				//清空錯誤提示
				$("#mnameError").text("");
				$("#mcellError").text("");
				$("#mphoneError").text("");
				$("#maddressError").text("");
				return response.json();
			} else {
				//清空成功提示
				$("#success3").text("")
				return response.json().then(errors =>{
					console.log("Error:", errors);
					if(errors.mname){
						$("#mnameError").text(`${errors.mname}`);
					} else {
						$("#mnameError").text("");
					}

					if(errors.mcell){
						$("#mcellError").text(`${errors.mcell}`);
					} else {
						$("#mcellError").text("");
					}

					if(errors.mphone){
						$("#mphoneError").text(`${errors.mphone}`);
					} else {
						$("#mphoneError").text("");
					}

					if(errors.address){
						$("#maddressError").text(`${errors.address}`);
					} else {
						$("#maddressError").text("");
					}
					let errorMessages = Object.values(errors).join("<br>");
					throw new Error(errorMessages);
				})
			}
			}).then(success => {
				$("#success3").text("更改成功!")
			}).catch(error => {
				console.error('Error:', error);
			});
		})



	</script>
	<script>
			fetch('member/getMemberInfo', {
				method: 'GET',
			})
				.then(member => member.json())
				.then(member => {
					console.log('有進來');
					// 啟用我的票夾按鈕
					let myCollect = document.getElementById('myCollect');
					console.log((myCollect));
					myCollect.innerHTML = '';
					myCollect.innerHTML += `
						<a href='/collect?action=myCollect&memberno=${member.memberno}'
									class="co-main-btn co-btn-width min-width d-inline-block h_40">我的票夾</a>
					`;
				})
				.catch(error => {
					console.log('發生錯誤:', error);
				});
	</script>

	<!--=================================================================================================================================-->>
    <!--尉賢票券訂單開始-->
	<!-- 座位顯示浮動視窗-->
    <script>
 	$("#seatsbtn").click(function () {
		var href = $("#seathref").attr("href")
		$(href).fadeIn(250);
		$(href).children$("popup-box").removeClass("transform-out").addClass("transform-in");
		e.preventDefault();
	});

	$(".popup-close").click(function () {
		closeWindow();
	});
	// $(".popup-wrap").click(function(){
	//   closeWindow();
	// })
	function closeWindow() {
		$(".popup-wrap").fadeOut(200);
		$(".popup-box").removeClass("transform-in").addClass("transform-out");
		event.preventDefault();
	}
    </script>
	<!-- 場次時間-->
	<script>
			const ticketsList = document.querySelector("#ticketsList");
			const urlParams = new URLSearchParams(window.location.search);
			const memberNo = urlParams.get("memberNo");
			console.log(memberNo);

			fetch(
				`http://localhost:8085/TorderView/findBymemberNo?memberNo=${85345}`
			)
				.then((resp) => resp.json())
				.then((data) => {
          console.log(data);
          const filteredData = data.filter((obj, index, self) =>
            index === self.findIndex((t) => (
              t.torderNo === obj.torderNo
            ))
          );
          console.log(filteredData);

					let str="";
          let status=""
					let count=0;
					for(i of filteredData){
             switch (i.tpaymentStatus) {
                case 0: status = "未付款";
                 break;
               case 1: status = "已付款";
                 break;
               case 2: status = "已取消";
                 break;
            }
						str+=`<div class="card-top p-4">
                                <div class="card-event-img">
                                  <img
                                    id="aimg${count}"
                                    src=data:image/jpeg;base64,${i.aimg }
                                    alt=""
                                  />
                                </div>
                                <div class="card-event-dt">
                                  <h5 id="aname">${i.aname}</h5>
                                  <div class="invoice-id">
                                    #訂單編號:
                                    <span id="torderno">${i.torderNo}</span>
                                  </div>
                                </div>
                              </div>
                              <div class="card-bottom">
                                <div class="card-bottom-item">
                                  <div class="card-icon">
                                    <i class="fa-solid fa-calendar-days"></i>
                                  </div>
                                  <div class="card-dt-text">
                                    <h6 id="sessionsTime">訂單時間</h6>
                                    <span>${i.torderDate}</span>
                                  </div>
                                </div>
                                <div class="card-bottom-item">
                                  <div class="card-icon">
                                    <i class="fa-solid fa-ticket"></i>
                                  </div>
                                  <div class="card-dt-text">
                                    <h6>訂單狀態</h6>
                                    <span class="tpaymentStatus" >${status}</span>
                                    <button id="cancelbtn${count}">取消訂單</button>
                                  </div>
                                </div>
                                     <div class="card-bottom-item">
                                  <div class="card-icon">
                                    <i class="fa-solid fa-ticket"></i>
                                  </div>
                                  <div class="card-dt-text">
                                    <h6>訂單總金額</h6>
                                    <span >${i.tcheckTotal}</span>

                                  </div>
                                </div>
                                <div class="card-bottom-item">
                                  <div class="card-icon">
                                    <i class="fa-solid fa-money-bill"></i>
                                  </div>
                                  <div class="card-dt-text">
                                    <h6>訂單明細</h6>
                                    <div>
                                      <button id="tdetails${count}">詳情</button>
                                    </div>
                                  </div>
                                </div>

                              </div>`;

							  count++;
					}
					ticketsList.innerHTML=str;

          //================ 取消訂單開始==========================================
          for(let i=0;i<data.length;i++){
             document.querySelector(`#cancelbtn${i}`).addEventListener("click",()=>{
            swal({
                 title: "是否取消訂單?",
                 icon: "warning",
                 buttons: {
                否: true,
                是: true
              },
                 dangerMode: true
               }).then((value) => {
              switch (value) {
                case "是":

                  swal("訂單已取消", "", "success");
                  break;
              }
            });
             })
          }
//===========================訂單明細========================================



				});

  //=========取消訂單function===

     //  function cancelOrder(e){
       //   fetch()
     //  }



	</script>
</body>

</html>