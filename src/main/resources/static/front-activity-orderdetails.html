<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, shrink-to-fit=9">
	<meta name="description" content="Gambolthemes">
	<meta name="author" content="Gambolthemes">
	<title>Barren - Simple Online Event Ticketing System</title>

	<!-- Favicon Icon -->
	<link rel="icon" type="image/png" href="images/fav.png">

	<!-- Stylesheets -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
		rel="stylesheet">
	<link href='vendor/unicons-2.0.1/css/unicons.css' rel='stylesheet'>
	<link href="css/style.css" rel="stylesheet">
	<link href="css/responsive.css" rel="stylesheet">
	<link href="css/night-mode.css" rel="stylesheet">

	<!-- Vendor Stylesheets -->
	<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
	<link href="vendor/OwlCarousel/assets/owl.carousel.css" rel="stylesheet">
	<link href="vendor/OwlCarousel/assets/owl.theme.default.min.css" rel="stylesheet">
	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">

	<script
			src="https://code.jquery.com/jquery-3.6.0.js"
			integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
			crossorigin="anonymous"></script>

	<style>
		/* 評星 style */
		.starRating {
			margin-bottom: 15px;
		}

		.starRating span {
			color: #888888;
			cursor: pointer;
			padding-right: 6px;
		}

		.starRating span:last-child {
			padding-right: 0;
		}

		.starRating i {
			transition: opacity 0.4s;
		}

		.starRating .fa-star {
			color: #ffc000;
			left: 0;
			opacity: 0;
		}

		.starRating span:hover~span,
		.starRated span.active~span {
			color: #888888;
		}

		.starRating:hover .fa-star,
		.starRating span:hover~span .fa-star-o {
			opacity: 1 !important;
		}

		.starRating:hover .fa-star-o,
		.starRating span:hover~span .fa-star {
			opacity: 0 !important;
		}

		.starRated .fa-star,
		.starRated span.active~span .fa-star-o {
			opacity: 1;
		}

		.starRated .fa-star-o,
		.starRated span.active~span .fa-star {
			opacity: 0;
		}

		.starRating {
			margin-left: auto;
			margin-right: auto;
		}

		.card {
			height: 4rem;
			margin-left: auto;
			margin-right: auto;
		}
	</style>

</head>

<body class="d-flex flex-column h-100">
	<!-- 評星及評論開始 -->
	<div class="modal fade" id="couponModal" tabindex="-1" aria-labelledby="couponModalLabel" aria-hidden="false">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="couponModalLabel">評論與評星</h5>
					<button type="button" class="close-model-btn" data-bs-dismiss="modal" aria-label="Close"><i
							class="uil uil-multiply"></i></button>
				</div>
				<div class="modal-body">
					<div class="model-content main-form">
						<div class="row">
							<div class="col-lg-12 col-md-12">
								<div class="gift-coupon-icon mt-5 pb-5">
									<label class="form-label" style="font-weight: bold">請為此節目評星</label>
									<form id=" ratingForm">
										<input id="activityNo" type="hidden" value="5">
										<div class="card">
											<div class="card-body">
												<div class="starRating">
													<span><i class="fa fa-star-o fa-2x"></i><i
															class="fa fa-star fa-2x"></i></span>
													<span><i class="fa fa-star-o fa-2x"></i><i
															class="fa fa-star fa-2x"></i></span>
													<span><i class="fa fa-star-o fa-2x"></i><i
															class="fa fa-star fa-2x"></i></span>
													<span><i class="fa fa-star-o fa-2x"></i><i
															class="fa fa-star fa-2x"></i></span>
													<span><i class="fa fa-star-o fa-2x"></i><i
															class="fa fa-star fa-2x"></i></span>
												</div>
											</div>
										</div>
										<input id="aRate" type="hidden" value="">
									</form>
								</div>
							</div>
							<div class="col-lg-12 col-md-12">
								<div class="gift-coupon-icon mt-5 pb-5">
									<label class="form-label" style="font-weight: bold;">請為此節目評論</label>
									<textarea id="aCommentCont" class="form-textarea"></textarea>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="co-main-btn min-width btn-hover h_40" data-bs-target="#aboutModal"
						data-bs-toggle="modal" data-bs-dismiss="modal">取消</button>
					<button type="submit" class="main-btn min-width btn-hover h_40" data-bs-target="#aboutModal"
							data-bs-toggle="modal" 	data-bs-dismiss="modal" onclick="submitComment()">提交</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 評星及評論結束 -->

	<!-- Invoice Start-->
	<div class="invoice clearfix">
		<div class="container">
			<div class="row justify-content-md-center">
				<div class="col-lg-8 col-md-10">
					<div class="invoice-header justify-content-between">
						<div class="invoice-header-logo">
							<img src="images/dark-logo.svg" alt="invoice-logo">
						</div>
						<div class="invoice-header-text">
							<a href="#" class="download-link">Download</a>
						</div>
					</div>
					<div class="invoice-body">
						<div class="invoice_dts">
							<div class="row">
								<div class="col-md-12">
									<h2 class="invoice_title">Invoice</h2>
								</div>
								<div class="col-md-6">
									<div class="vhls140">
										<ul>
											<li>
												<div class="vdt-list">Invoice to John Doe</div>
											</li>
											<li>
												<div class="vdt-list">140 St Kilda Rd</div>
											</li>
											<li>
												<div class="vdt-list">Melbourne, Victoria</div>
											</li>
											<li>
												<div class="vdt-list">3000, Australia</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="col-md-6">
									<div class="vhls140">
										<ul>
											<li>
												<div class="vdt-list">Invoice ID : YCCURW-000000</div>
											</li>
											<li>
												<div class="vdt-list">Order Date : 10/05/2022</div>
											</li>
											<li>
												<div class="vdt-list">Near MBD Mall,</div>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
						<div class="main-table bt_40">
							<div class="table-responsive">
								<table class="table">
									<thead class="thead-dark">
										<tr>
											<th scope="col">#</th>
											<th scope="col">Event Details</th>
											<th scope="col">Type</th>
											<th scope="col">Qty</th>
											<th scope="col">Unit Price</th>
											<th scope="col">Total</th>
											<th scope="col">
												<div style="text-align:center; font-weight: bold;">
													評星與評論
												</div>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>1</td>
											<td><a href="#" target="_blank">Tutorial on Canvas Painting for
													Beginners</a></td>
											<td>Online</td>
											<td>1</td>
											<td>$75.00</td>
											<td>$75.00</td>
											<td>
												<div id="commentContainer_5" style="text-align:center">
													<button id="cmtbtn" style="border: none;  background-color:transparent"
														data-bs-toggle="modal" data-bs-target="#couponModal"><img
															src="images/cmtbtn.png"></button>
												</div>

											</td>
										</tr>
										<tr>
											<td colspan="1"></td>
											<td colspan="5">
												<div class="user_dt_trans text-end pe-xl-4">
													<div class="totalinv2">Invoice Total : USD $36.00</div>
													<p>Paid via Paypal</p>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<div class="invoice_footer">
							<div class="cut-line">
								<i class="fa-solid fa-scissors"></i>
							</div>
							<div class="main-card">
								<div class="row g-0">
									<div class="col-lg-7">
										<div class="event-order-dt p-4">
											<div class="event-thumbnail-img">
												<img src="images/event-imgs/img-7.jpg" alt="">
											</div>
											<div class="event-order-dt-content">
												<h5>Tutorial on Canvas Painting for Beginners</h5>
												<span>Wed, Jun 01, 2022 5:30 AM. Duration 1h</span>
												<div class="buyer-name">John Doe</div>
												<div class="booking-total-tickets">
													<i class="fa-solid fa-ticket rotate-icon"></i>
													<span class="booking-count-tickets mx-2">1</span>x Ticket
												</div>
												<div class="booking-total-grand">
													Total : <span>$75.00</span>
												</div>
											</div>
										</div>
									</div>
									<div class="col-lg-5">
										<div class="QR-dt p-4">
											<ul class="QR-counter-type">
												<li>Online</li>
												<li>Counter</li>
												<li>0000000001</li>
											</ul>
											<div class="QR-scanner">
												<img src="images/qr.png" alt="QR-Ticket-Scanner">
											</div>
											<p>Powered by Barren</p>
										</div>
									</div>
								</div>
							</div>
							<div class="cut-line">
								<i class="fa-solid fa-scissors"></i>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Invoice End-->


	<script src="js/jquery-3.6.0.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="vendor/OwlCarousel/owl.carousel.js"></script>
	<script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
	<script src="js/custom.js"></script>
	<script src="js/night-mode.js"></script>

	<!-- 評星 -->
	<script>
		const info = {
			memberNo: 85346
		}

		$('.starRating span').click(function () {
			$(this).siblings().removeClass('active');
			$(this).addClass('active');
			$(this).parent().addClass('starRated');

			let rating = $(this).index() + 1;
			$('#currentRating').html("<small>Rating: <b>" + rating + "</b></small>");

			alert(rating);
			$('#aRate').val(rating);
		});


		function submitComment(){
			let reqbody = {
				memberNo : info.memberNo,
				activityNo: $('#activityNo').val(),
				aRate: $('#aRate').val(),
				aCommentCont: $('#aCommentCont').val(),
			}

			fetch('acomment/insert',{
				method: "POST",
				headers: {'Content-Type': 'application/json'},
				body: JSON.stringify(reqbody)
			})

			$('#commentContainer_5').html('');
			$('#commentContainer_5').html(`已評論`);
		}
	</script>
</body>

</html>